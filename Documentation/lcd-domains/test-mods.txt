
========================================
OVERVIEW
========================================

In virt/lcd-domains/test-mods, you can put a new group of test modules
for running with the lcd system. You will find a few in there already.
One of them - printk - is built automatically and ran during a test when the
lcd module is inserted.

========================================
HOW TO DO A TEST MODULE
========================================

Follow the examples in the test-mods dir when in doubt. You will most
likely need at least two modules - one of them will run non-isolated and
will boot the lcd, and the other is for the lcd.

Step 1
------

Create a new sub dir in test-mods with source files. Again, at least one of the
modules should probably run non-isolated - it will set up the lcd's.

Important: Modules that will run inside lcd's should link with liblcd.

Step 2
------

Set up a makefile.

Step 3
------

Modify the makefile inside virt/lcd-domains/test-mods to include your new sub 
dir.

Step 4
------

Modify the Kconfig file inside virt/lcd-domains to include your new
modules.

Step 5
------

Run make menuconfig to turn on building for your modules. It will be under
Virtualization (2) at the bottom.

Step 6
------

Run

   make

and then

   sudo make modules_install install

do install.

Step 7
------

Ensure the lcd-domains.ko module is insmod'd. Insert your boot module, which
should boot all lcd's, etc.
